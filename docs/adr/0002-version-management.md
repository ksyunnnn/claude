# ADR-0002: バージョン管理手法の採用

## Status

Accepted

## Context

プロジェクトの成長に伴い、技術的決定の追跡、リリース管理、変更履歴の管理が重要になった。以下の課題があった：

- 技術的決定の理由と経緯が記録されていない
- リリースの管理が手動で属人的
- 変更履歴の追跡が困難
- 新しい開発者への知識共有が非効率

従来のアプローチ（個別のドキュメントやコミットメッセージのみ）では、長期的な保守性と拡張性に課題があることが判明した。

## Decision

**Gitタグ + GitHub Releases + ADR（Architecture Decision Records）**を組み合わせた包括的なバージョン管理システムを採用する。

### 1. Gitタグによるリリース管理
```bash
git tag -a v1.1.0 -m "Add Apple-style flat design favicon"
git push origin v1.1.0
```

### 2. GitHub Releasesの活用
- タグ作成時に自動でリリースページ作成
- セマンティックバージョニングの採用（Major.Minor.Patch）
- リリースノートの構造化（Features, Bug Fixes, Breaking Changes）

### 3. ADR（Architecture Decision Records）
- `docs/adr/` ディレクトリでの決定記録管理
- 標準テンプレートによる一貫した記録形式
- Status（Proposed, Accepted, Deprecated, Superseded）による状態管理

### バージョニング戦略
- **Major**: 破壊的変更（API変更、データスキーマ変更等）
- **Minor**: 新機能追加（後方互換性保持）
- **Patch**: バグ修正、小規模改善

## Consequences

### Positive（メリット）

- **透明性**: 全ての重要な決定が文書化され追跡可能
- **新メンバーのオンボーディング**: ADRにより過去の決定理由を理解可能
- **リリース管理の自動化**: Gitタグとの連携による効率的なリリースプロセス
- **意思決定の質向上**: 決定プロセスが構造化され、検討漏れが削減
- **技術負債の可視化**: 過去の決定の結果と影響が明確
- **コミュニティ貢献**: オープンソース的な透明性によりコントリビューションが促進

### Negative（デメリット・リスク）

- **追加工数**: ADR作成とメンテナンスに時間が必要
- **学習コスト**: チームメンバーがADR手法を習得する必要
- **プロセス複雑化**: 単純な変更でも文書化が必要になる場合
- **最新性の維持**: ADRの更新忘れによる情報の陳腐化リスク

### Neutral（中立的な影響）

- GitHub依存となるため、プラットフォーム変更時は移行作業が必要
- ADRの粒度バランス調整が継続的に必要

## Implementation Notes

### ディレクトリ構造
```
docs/adr/
├── README.md                    # ADR概要と使い方
├── template.md                  # 標準テンプレート
├── 0001-favicon-design.md      # ファビコンデザイン決定
├── 0002-version-management.md  # この決定記録
└── [future ADRs...]
```

### 運用ルール
1. **ADR作成タイミング**: 技術スタック選択、アーキテクチャ変更、重要な設計決定
2. **レビュープロセス**: 重要なADRはPRでのレビューを実施
3. **アップデート**: 決定が変更される場合は新ADRで置き換え（Superseded）
4. **連番管理**: 4桁の連番（0001, 0002...）で管理

### 自動化の方向性
- 将来的にはGitHub Actionsでリリースプロセス自動化を検討
- セマンティックリリースツールの導入可能性も視野

## Related Decisions

- ADR-0001: ファビコンデザインの技術選択（本システムで初回記録）

---

**Date**: 2025-01-26  
**Author**: Claude Code  
**Context**: プロジェクトの成長に伴う管理体制強化の必要性